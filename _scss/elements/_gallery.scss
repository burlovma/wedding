


.gallery {
  border-color: $border-color;
  border-width: 1px 0;
  border-style: solid;

  .block {
    @include span(12);
    margin-bottom: em(25);

    &:last-child { margin-bottom: 0; }
  }

  .img {
    display: block;
    height: 0;
    overflow: hidden;
    // padding: 0 0 75%; // used to be 4:3
    padding: 0 0 100%;
    position: relative;

    img {
      height: 100%;
      left: 0;
      margin: auto;
      position: absolute;
      top: 0;
      width: 100%;
    }
  }

  .caption-container {
    padding: 10px 0;

    .caption {
      color: lighten($gray, 10);
      display: inherit;
      font: 400 .813em/1.5 $condensed-font-family;
    }
  }

  @include breakpoints(nav) {
    .block { @include span(6); }
  }

  @include breakpoints(tablet) {
    .block {
      @include span(4);

      overflow: hidden;
      position: relative;

      .caption-container {
        height: 100%;
        left: 15px;
        opacity: 1;
        padding: 10px;
        position: absolute;
        right: 15px;
        top: 100%;

        @include custom-transition(top $animation-timing ease, opacity $animation-timing ease);

        .caption-gradient {
          background: transparentize($black, .2);
          bottom: 0;
          left: 0px;
          padding: 10px;
          position: absolute;
          width: 100%;

          @include linearGradient(transparentize($black, 1), transparentize($black, .2));
        }

        .caption {
          color: $white;
        }
      }

      &:hover .caption-container {
        opacity: 1;
        top: 0;
      }
    }
  }

  @include breakpoints(lg_tablet) {
    .block { @include span(3); }
  }
}